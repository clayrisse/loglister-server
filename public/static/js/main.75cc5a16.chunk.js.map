{"version":3,"sources":["lib/auth-service.js","context/auth-context.js","components/Navbar.js","pages/Home.js","pages/Signup.js","pages/Login.js","lib/user-service.js","pages/User.js","components/AnonRoute.js","components/PrivateRoute.js","pages/Favorites.js","pages/Settings.js","pages/ListNew.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","username","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","catch","err","login","logout","console","log","me","value","props","children","Component","withAuth","WrappedComponent","className","id","href","onClick","to","alt","src","Home","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","type","onChange","userService","getAllUserInfo","api","userInfo","infoShown","getUserInfo","listsId","routeProps","ComponentToShow","component","exact","path","render","Favorites","Settings","ListNew","App","Signup","Login","User","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.75cc5a16.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      // baseURL: \"http://localhost:5000\",\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  signup( username, password ) {\r\n    const pr = this.auth\r\n      .post(\"/auth/signup\", { username, password })\r\n      .then((response) => response.data);\r\n      // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\r\n\r\n    return pr;\r\n  }\r\n\r\n  login( username, password ) {\r\n    const pr = this.auth\r\n      .post(\"/auth/login\", { username, password })\r\n      .then((response) => response.data);\r\n      \r\n    return pr;\r\n  }\r\n\r\n  logout() {\r\n    const pr = this.auth\r\n      .get(\"/auth/logout\")\r\n      .then((response) => response.data);\r\n\r\n    return pr;\r\n  }\r\n\r\n  me() {\r\n    const pr = this.auth\r\n      .get(\"/auth/me\")\r\n      .then((response) => response.data);\r\n\r\n    return pr;\r\n  }\r\n}\r\n\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;\r\n\r\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\r\n// In the above case, all axios request calls are abstracted into methods.\r\n","import React from 'react';\r\nimport authService from './../lib/auth-service';\r\n\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\n\r\nclass AuthProvider extends React.Component {\r\n  state = {\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n    user: null\r\n  }\r\n\r\n  componentDidMount () {\r\n    authService.me()\r\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\r\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\r\n  }\r\n\r\n  signup = (username, password) => {\r\n    authService.signup( username, password )\r\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\r\n      .catch((err) => this.setState({ isLoggedIn: false, user: null }))\r\n  }\r\n\r\n  login = (username, password) => {\r\n    authService.login( username, password )\r\n      .then((user) => this.setState({ isLoggedIn: true, user }))\r\n      .catch((err) => this.setState({ isLoggedIn: false, user: null }))\r\n  }\r\n\r\n  logout = () => {\r\n    authService.logout()\r\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    const { isLoggedIn, isLoading, user } = this.state;\r\n    const { signup, login, logout } = this;\r\n\r\n    if (isLoading) return <p>Loading</p>;\r\n\r\n    return(\r\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\r\n        {this.props.children}\r\n      </Provider>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n// HOC that converts regular component into a Consumer\r\nconst withAuth = (WrappedComponent) => {\r\n  \r\n  return class extends React.Component {\r\n    render() {\r\n      return(\r\n        <Consumer>\r\n          { (value) => {\r\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\r\n\r\n            return (<WrappedComponent \r\n                      {...this.props}\r\n                      isLoggedIn={isLoggedIn} \r\n                      isLoading={isLoading} \r\n                      user={user} \r\n                      signup={signup} \r\n                      login={login} \r\n                      logout={logout}\r\n                    />)\r\n\r\n          } }\r\n        </Consumer>\r\n        )\r\n    }\r\n}\r\n}\r\n\r\n\r\nexport { AuthProvider, withAuth }","import React, { Component } from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n// import user from './../icons/user.png'\r\nimport \"./Navbar.css\"\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    // const { user, logout, isLoggedIn } = this.props;\r\n    return (\r\n      <nav className=\" navbar navbar-bottom\"> \r\n       <div className=\"\" id=\"nav\">\r\n       <ul className=\"navbar-nav\">\r\n  \r\n        \r\n\r\n        {/* <Link to={'/'} id='home-btn'><h4>Home</h4></Link> */}\r\n        {this.props.isLoggedIn ? (\r\n          <>\r\n            <li className=\"nav-item\">\r\n              <div className=\"navbar-texticon\">\r\n                <p>username: {this.props.user && this.props.user.username}</p>\r\n                <a href=\"#nav\" onClick={this.props.logout}>Logout</a>\r\n              </div>\r\n            </li>\r\n        \r\n\r\n            <li className=\"nav-item\">\r\n              <div className=\"navbar-texticon\">\r\n                <NavLink className=\"navbar-icontitle\" to=\"/user\" className=\"navbar-button\">\r\n                  {/* <img className=\"navbar-icon\" alt=\"nav-icon\" src={user}/> */}\r\n                  <img className=\"navbar-icon\" alt=\"nav-icon\" src=\"./../icons/user.png\"/>\r\n                  <p className=\"navbar-title\">My Logs</p>\r\n                </NavLink>\r\n              </div>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <div className=\"navbar-texticon\">\r\n                <NavLink className=\"navbar-icontitle\" to=\"/favorites\" className=\"navbar-button\">\r\n                  <img className=\"navbar-icon\" alt=\"nav-icon\" src=\"./../icons/search.png\"/>\r\n                  <p className=\"navbar-title\">Favorites</p>\r\n                </NavLink>\r\n              </div>\r\n            </li>\r\n           \r\n            <li className=\"nav-item\">\r\n              <div className=\"navbar-texticon\">\r\n                <NavLink className=\"navbar-icontitle\" to=\"/list/new\" className=\"navbar-button\">\r\n                  <img className=\"navbar-icon\" alt=\"nav-icon\" src=\"./../icons/add.png\"/>\r\n                  <p className=\"navbar-title\">New list</p>\r\n                </NavLink>\r\n              </div>\r\n            </li>\r\n         \r\n            <li className=\"nav-item\">\r\n              <div className=\"navbar-texticon\">\r\n                <NavLink className=\"navbar-icontitle\" to=\"/settings\" className=\"navbar-button\">\r\n                  <img className=\"navbar-icon\" alt=\"nav-icon\" src=\"./../icons/setting.png\"/>\r\n                  <p className=\"navbar-title\">Settings</p>\r\n                </NavLink>\r\n              </div>\r\n            </li>\r\n\r\n\r\n\r\n            {/* <Link to=\"/user\" className=\"navbar-button\">My Logs</Link>\r\n            <Link to=\"/favorites\" className=\"navbar-button\">Favorites</Link>\r\n            <Link to=\"/newlist\" className=\"navbar-button\">+List</Link>\r\n            <Link to=\"/settings\" className=\"navbar-button\">Settings</Link> */}\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to=\"/login\"className=\"navbar-button\">Login</Link>\r\n  \r\n            <Link to=\"/signup\"className=\"navbar-button\">Sign Up</Link>\r\n          </>\r\n        )}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\nexport default withAuth(Navbar);\r\n","import React from 'react'\r\n\r\nfunction Home() {\r\n  return (\r\n    <div> \r\n      <h1>Home Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Signup extends Component {\r\n  state = { username: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    \r\n    this.props.signup( username, password );\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Sign Up</h1>\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n\r\n          <label>Username:</label>\r\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Signup\" />\r\n        </form>\r\n        \r\n        <p>Already have account?</p>\r\n        <Link to={\"/login\"}> Login</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withAuth(Signup);\r\n\r\n\r\n// const EnhancedSignup = withAuth(Signup)\r\n// export default EnhancedSignup;","import React, { Component } from \"react\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Login extends Component {\r\n  state = { username: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    // Call funciton coming from AuthProvider ( via withAuth )\r\n    this.props.login(username, password);\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n          \r\n          <label>Username:</label>\r\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Login\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import axios from \"axios\";\r\n\r\nclass UserService {\r\n  constructor() {\r\n    this.api = axios.create({        \r\n      // baseURL: \"http://localhost:5000/api/user\",\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  getAllUserInfo = () =>  this.api.get('/')\r\n\r\n  // getOne = (id) => this.api.get(`/${id}`)\r\n\r\n  // create = (data)=> this.api.post(`/`, data )\r\n\r\n  // edit = (id) => this.api.put(`/${id}`)\r\n\r\n  // deleteOne = (id) => this.api.delete(`/${id}`)\r\n\r\n}\r\n\r\n\r\nconst userService = new UserService();\r\n\r\nexport default userService;","import React, { Component } from \"react\";\r\nimport { withAuth } from '../context/auth-context';\r\n// import { Link } from 'react-router-dom';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport userService from './../lib/user-service'\r\n\r\nclass User extends Component {\r\n  // constructor (props) {\r\n  //   super (props)\r\n  //     this.state = {\r\n  //       userInfo: props.user,\r\n  //       infoShown:{}\r\n  //   }\r\n  // }\r\n\r\n  state = {\r\n    userInfo: {},\r\n    infoShown: {}\r\n  }\r\n\r\n  getUserInfo = () => {\r\n    userService.getAllUserInfo() //axios call from service\r\n      .then((response) => this.setState({userInfo: response.data, infoShown: response.data.listsId[4]}))\r\n      .catch((err) => console.log(err)) // con axios results is on `response.data` key\r\n  } \r\n  \r\n\r\n  componentDidMount() {\r\n    this.getUserInfo()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Private Route</h1>\r\n        <h2>Welcome {this.props.user && this.props.user.username}</h2>\r\n        {/* <h2>Welcome {this.state.infoShown}</h2> */}\r\n        {/* <h2>Welcome {this.state.userInfo.listsId[4].name}</h2> */}\r\n        {/* <h2>Welcome {this.state.userInfo.listsId[4].name}</h2> */}\r\n        {/* <h2>Welcome {this.props.user && this.props.user.listsId}</h2> */}\r\n        {/* \r\n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \r\n        */}\r\n        \r\n\r\n        \r\n        {/* {this.state.userInfo.listsId.map(eachlist => {\r\n            return(\r\n                <div key={eachlist._id}>\r\n                        <h3>{eachlist.name}</h3>\r\n                </div>\r\n            )\r\n        })\r\n        } */}\r\n       \r\n             \r\n     \r\n    \r\n\r\n\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withAuth(User);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\n// Route that only allows access to a user who is not logged in\r\n\r\nfunction AnonRoute (routeProps) {\r\n  // Value coming from `AuthProvider` ( via `withAuth` )\r\n  const { isLoggedIn, isLoading } = routeProps;\r\n\r\n  // Values coming from the AnonRoute itself\r\n  const ComponentToShow = routeProps.component;\r\n  const { exact, path } = routeProps;\r\n\r\n  // If AuthProvider is still making request to check the user\r\n  if (isLoading) return 'Loading';\r\n\r\n  return (\r\n    <Route exact={exact} path={path} render={(props) => isLoggedIn ? <Redirect to=\"/user\" /> : <ComponentToShow {...props} /> } />\r\n  )\r\n}\r\n\r\n\r\n  \r\nexport default withAuth(AnonRoute);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\n// Route that forbids access to a user who is not logged in\r\n\r\nfunction PrivateRoute (routeProps) {\r\n  // Value coming from `AuthProvider` ( via `withAuth` )\r\n  const { isLoggedIn, isLoading } = routeProps;\r\n\r\n  // Values coming from the PrivateRoute itself\r\n  const ComponentToShow = routeProps.component;\r\n  const { exact, path } = routeProps;\r\n\r\n  // If AuthProvider is still making request to check the user\r\n  if (isLoading) return 'Loading';\r\n\r\n  return (\r\n   // <Route {...rest} render={(props) => isLoggedIn ? <Component {...props}/> : <Redirect to=\"/login\"/>}/> \r\n    <Route exact={exact} path={path} render={(props) => isLoggedIn ? <ComponentToShow {...props}/> : <Redirect to=\"/login\"/>}/> \r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default withAuth(PrivateRoute);\r\n\r\n\r\n/* \r\n// Concise way\r\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\r\n  return (\r\n   <Route\r\n    {...rest}\r\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\r\n   /> \r\n)} \r\n*/\r\n","import React, { Component } from 'react'\r\n\r\nclass Favorites extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                favoriiiiiiiiiites\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Favorites\r\n","import React, { Component } from 'react'\r\n\r\nclass Settings extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                settings\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings\r\n","import React, { Component } from 'react'\r\n\r\nclass ListNew extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                listNew\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListNew\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Navbar from './components/Navbar';\r\nimport Home from './pages/Home';\r\nimport Signup from './pages/Signup';\r\nimport Login from './pages/Login';\r\nimport User from './pages/User';\r\n\r\nimport AnonRoute from './components/AnonRoute';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Favorites from './pages/Favorites';\r\nimport Settings from './pages/Settings';\r\nimport ListNew from './pages/ListNew';\r\n\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Navbar />\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n\r\n\r\n          <AnonRoute exact path=\"/signup\" component={Signup} />\r\n          <AnonRoute exact path=\"/login\" component={Login} />\r\n\r\n          <PrivateRoute exact path=\"/user\" component={User} />\r\n          <PrivateRoute exact path=\"/favorites\" component={Favorites} />\r\n          <PrivateRoute exact path=\"/settings\" component={Settings} />\r\n          <PrivateRoute exact path=\"/list/new\" component={ListNew} />\r\n          <PrivateRoute exact path=\"/list/:listId\" component={ListNew} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nimport { AuthProvider } from './context/auth-context';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </Router>\r\n, document.getElementById('root'));\r\n"],"sourceRoot":""}